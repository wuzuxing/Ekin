{"version":3,"sources":["webpack:///static/js/36.765a723129d841a8f13f.js","webpack:///./src/pages/Login.vue?6299","webpack:///Login.vue","webpack:///./src/pages/Login.vue?b5fc"],"names":["webpackJsonp","537","module","exports","__webpack_require__","injectStyle","ssrContext","Component","650","651","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_3__util_util_js__","__WEBPACK_IMPORTED_MODULE_4__util_localjson_js__","name","data","password","username","showfooter","mounted","methods","login","_this","this","a","mark","_callee","userinfo","wrap","_context","prev","next","length","abrupt","sent","token","setUser","$store","commit","$router","push","stop","onResize","window","innerHeight","activated","show","652","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","_v","attrs","label","prepend-icon","model","callback","$$v","type","color","nativeOn","click","$event","dark","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACAF,EAAA,KAEA,GAAAG,GAAAH,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEAC,EAEA,kBAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUMK,IACA,SAAUN,EAAQC,KAMlBM,IACA,SAAUP,EAAQQ,EAAqBN,GAE7C,YACAO,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIC,GAA0DV,EAAoB,KAC9EW,EAAkEX,EAAoBY,EAAEF,GACxFG,EAAuEb,EAAoB,KAC3Fc,EAA+Ed,EAAoBY,EAAEC,GAErGE,GADqCf,EAAoB,IACXA,EAAoB,MAClEgB,EAAmDhB,EAAoB,GEXhGM,GAAA,SACAW,KAAA,QACAC,KAFA,WAGA,OACAC,SAAA,GACAC,SAAA,GACAC,YAAA,IAGAC,QATA,aAWAC,SACAC,MADA,WACA,GAAAC,GAAAC,IAAA,OAAAZ,KAAAH,EAAAgB,EAAAC,KAAA,QAAAC,KAAA,GAAAC,EAAA,OAAAnB,GAAAgB,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACA,GAAAT,EAAAL,SAAAe,QAAA,GAAAV,EAAAN,SAAAgB,OADA,CAAAH,EAAAE,KAAA,cAAAF,GAAAI,OAAA,uBAAAJ,GAAAE,KAAA,EAEAnB,EAAA,EAAAS,MAAAC,IAAAL,SAAAK,EAAAN,SAFA,QAEAW,EAFAE,EAAAK,KAGAtB,EAAA,EAAAuB,MAAAR,EAAAQ,MACAtB,EAAA,EAAAuB,QAAAT,GACAL,EAAAe,OAAAC,OAAA,UAAAX,GACAL,EAAAiB,QAAAC,KAAA,UANA,wBAAAX,GAAAY,SAAAf,EAAAJ,SAQAoB,SATA,WAUAnB,KAAAL,WAAAyB,OAAAC,YAAA,MAGAC,UAxBA,WAyBAtB,KAAAP,SAAA,GACAO,KAAAN,SAAA,GACAM,KAAAc,OAAAC,OAAA,gBACAQ,MAAA,IAEAvB,KAAAc,OAAAC,OAAA,2BFsDMS,IACA,SAAUpD,EAAQC,GGtHxBD,EAAAC,SAAgBoD,OAAA,WAAmB,GAAAC,GAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,aACAxC,KAAA,SACAyC,QAAA,WACAjD,MAAA2C,EAAA,SACAO,WAAA,aAEAC,YAAA,gBACGL,EAAA,OACHK,YAAA,SACGR,EAAAS,GAAA,KAAAN,EAAA,gBACHK,YAAA,OACAE,OACAC,MAAA,KACAC,eAAA,UAEAC,OACAxD,MAAA2C,EAAA,SACAc,SAAA,SAAAC,GACAf,EAAAhC,SAAA+C,GAEAR,WAAA,cAEGP,EAAAS,GAAA,KAAAN,EAAA,gBACHK,YAAA,OACAE,OACAM,KAAA,WACAL,MAAA,KACAC,eAAA,mBAEAC,OACAxD,MAAA2C,EAAA,SACAc,SAAA,SAAAC,GACAf,EAAAjC,SAAAgD,GAEAR,WAAA,cAEGP,EAAAS,GAAA,KAAAN,EAAA,SACHK,YAAA,QACAE,OACAO,MAAA,WAEAC,UACAC,MAAA,SAAAC,GACA,MAAApB,GAAA5B,MAAAgD,OAGGjB,EAAA,UACHO,OACAW,KAAA,MAEGrB,EAAAS,GAAA,WAAAT,EAAAS,GAAA,8BAAAT,EAAAS,GAAA,KAAAN,EAAA,OACHE,aACAxC,KAAA,OACAyC,QAAA,SACAjD,MAAA2C,EAAA,WACAO,WAAA,eAEAC,YAAA,WACGR,EAAAS,GAAA,sCAAAN,EAAA,OACHK,YAAA,cACGR,EAAAS,GAAA,4BACFa","file":"static/js/36.765a723129d841a8f13f.js","sourcesContent":["webpackJsonp([36],{\n\n/***/ 537:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(650)\n}\nvar Component = __webpack_require__(36)(\n  /* script */\n  __webpack_require__(651),\n  /* template */\n  __webpack_require__(652),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-868010ae\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 650:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 651:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(183);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_util_js__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_localjson_js__ = __webpack_require__(49);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'login',\n    data: function data() {\n        return {\n            password: '',\n            username: '',\n            showfooter: true\n        };\n    },\n    mounted: function mounted() {},\n\n    methods: {\n        login: function login() {\n            var _this = this;\n\n            return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n                var userinfo;\n                return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (!(_this.username.length == 0 || _this.password.length == 0)) {\n                                    _context.next = 2;\n                                    break;\n                                }\n\n                                return _context.abrupt('return');\n\n                            case 2:\n                                _context.next = 4;\n                                return __WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"a\" /* default */].login(_this, _this.username, _this.password);\n\n                            case 4:\n                                userinfo = _context.sent;\n\n                                __WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"a\" /* default */].token = userinfo.token;\n                                __WEBPACK_IMPORTED_MODULE_4__util_localjson_js__[\"a\" /* default */].setUser(userinfo);\n                                _this.$store.commit('setUser', userinfo);\n                                _this.$router.push('/notice');\n\n                            case 9:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this);\n            }))();\n        },\n        onResize: function onResize() {\n            this.showfooter = window.innerHeight > 400;\n        }\n    },\n    activated: function activated() {\n        this.password = '';\n        this.username = '';\n        this.$store.commit('setAppHeader', {\n            show: false\n        });\n        this.$store.commit('setEnableSwipeOut', false);\n    }\n});\n\n/***/ }),\n\n/***/ 652:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"resize\",\n      rawName: \"v-resize\",\n      value: (_vm.onResize),\n      expression: \"onResize\"\n    }],\n    staticClass: \"bgcontainer\"\n  }, [_c('div', {\n    staticClass: \"logo\"\n  }), _vm._v(\" \"), _c('v-text-field', {\n    staticClass: \"user\",\n    attrs: {\n      \"label\": \"用户\",\n      \"prepend-icon\": \"person\"\n    },\n    model: {\n      value: (_vm.username),\n      callback: function($$v) {\n        _vm.username = $$v\n      },\n      expression: \"username\"\n    }\n  }), _vm._v(\" \"), _c('v-text-field', {\n    staticClass: \"user\",\n    attrs: {\n      \"type\": \"password\",\n      \"label\": \"密码\",\n      \"prepend-icon\": \"keyboard_return\"\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = $$v\n      },\n      expression: \"password\"\n    }\n  }), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"login\",\n    attrs: {\n      \"color\": \"#BFC7D4\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.login($event)\n      }\n    }\n  }, [_c('v-icon', {\n    attrs: {\n      \"dark\": \"\"\n    }\n  }, [_vm._v(\"check\")]), _vm._v(\"\\n          登录\\n      \")], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showfooter),\n      expression: \"showfooter\"\n    }],\n    staticClass: \"footer\"\n  }, [_vm._v(\"\\n        舟山引航站 引航综合数据平台\\n        \"), _c('div', {\n    staticClass: \"copyright\"\n  }, [_vm._v(\"copyright© 2018\")])])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/36.765a723129d841a8f13f.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-868010ae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../build/loaders/theme-loader.js??ref--2-1!./Login.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../build/loaders/theme-loader.js??ref--2-1!./Login.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-868010ae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../build/loaders/theme-loader.js??ref--2-1!./Login.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-868010ae\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Login.vue\n// module id = 537\n// module chunks = 36","<template>\r\n    <div class=\"bgcontainer\" v-resize=\"onResize\">\r\n        <div class=\"logo\"></div>\r\n        <v-text-field\r\n            v-model=\"username\"\r\n            class=\"user\"\r\n            label=\"用户\"\r\n            prepend-icon=\"person\"\r\n          ></v-text-field>\r\n        <v-text-field\r\n            v-model=\"password\"\r\n            class=\"user\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            prepend-icon=\"keyboard_return\"\r\n          ></v-text-field>\r\n          <v-btn color=\"#BFC7D4\" class=\"login\"\r\n            @click.native=\"login\">\r\n              <v-icon dark>check</v-icon>\r\n              登录\r\n          </v-btn>\r\n        <div class=\"footer\" v-show=\"showfooter\">\r\n            舟山引航站 引航综合数据平台\r\n            <div class=\"copyright\">copyright&copy; 2018</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport util from '../util/util.js';\r\nimport localjson from '../util/localjson.js';\r\n\r\nexport default {\r\n    name: 'login',\r\n    data() {\r\n        return {\r\n            password: '',\r\n            username: '',\r\n            showfooter: true,\r\n        };\r\n    },\r\n    mounted () {\r\n    },\r\n    methods: {\r\n        async login() {\r\n            if(this.username.length == 0 || this.password.length == 0) return;\r\n            const userinfo = await util.login(this, this.username, this.password);\r\n            util.token = userinfo.token;\r\n            localjson.setUser(userinfo);\r\n            this.$store.commit('setUser', userinfo);\r\n            this.$router.push('/notice');\r\n        },\r\n        onResize () {\r\n            this.showfooter = window.innerHeight > 400;\r\n        }\r\n    },\r\n    activated() {\r\n        this.password = '';\r\n        this.username = '';\r\n        this.$store.commit('setAppHeader', {\r\n            show: false,\r\n        });\r\n        this.$store.commit('setEnableSwipeOut', false);\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\n    @import '~@/assets/styles/variables';\n    @import '~vuetify/src/stylus/settings/_colors';\n\n    $theme := {\n        primary: rgb(40, 116, 240)\n        accent: $blue.accent-2\n        secondary: $grey.darken-3\n        info: $blue.base\n        warning: $amber.base\n        error: $red.accent-2\n        success: $green.base\n    }\n\n    $material-custom := {\n        bg-color: #fff\n        fg-color: #000\n        text-color: #000\n        primary-text-percent: 0.87\n        secondary-text-percent: 0.54\n        disabledORhints-text-percent: 0.38\n        divider-percent: 0.12\n        active-icon-percent: 0.54\n        inactive-icon-percent: 0.38\n    }\n    $material-theme := $material-custom\n\r\n.bgcontainer\r\n    background url('~/static/img/login-bg.png') no-repeat center center fixed !important\r\n    -webkit-background-size cover !important\r\n    -moz-background-size cover !important\r\n    -o-background-size cover !important\r\n    background-size cover !important\r\n    height 100% !important\r\n\r\n    .logo\r\n        background: url('~/static/img/logo.png') no-repeat center center;\r\n        -ms-background-position-y: 50px;\r\n        background-position-y: 50px;\r\n        height: 220px;\r\n        width: 100%;\r\n    \r\n    .user\r\n        width 220px\r\n        margin auto\r\n        margin-top 16px\r\n    \r\n    .login\r\n        width 220px\r\n        left 50%\r\n        margin 0\r\n        transform translateX(-50%)\r\n\r\n    .footer\r\n        position absolute\r\n        bottom 0\r\n        height 70px\r\n        margin-right auto \r\n        font-size 12px\r\n        color rgb(64,64,64)\r\n        text-align center\r\n        width 100%\r\n\r\n        .copyright\r\n            font-size 10px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?029aaac8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"resize\",\n      rawName: \"v-resize\",\n      value: (_vm.onResize),\n      expression: \"onResize\"\n    }],\n    staticClass: \"bgcontainer\"\n  }, [_c('div', {\n    staticClass: \"logo\"\n  }), _vm._v(\" \"), _c('v-text-field', {\n    staticClass: \"user\",\n    attrs: {\n      \"label\": \"用户\",\n      \"prepend-icon\": \"person\"\n    },\n    model: {\n      value: (_vm.username),\n      callback: function($$v) {\n        _vm.username = $$v\n      },\n      expression: \"username\"\n    }\n  }), _vm._v(\" \"), _c('v-text-field', {\n    staticClass: \"user\",\n    attrs: {\n      \"type\": \"password\",\n      \"label\": \"密码\",\n      \"prepend-icon\": \"keyboard_return\"\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = $$v\n      },\n      expression: \"password\"\n    }\n  }), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"login\",\n    attrs: {\n      \"color\": \"#BFC7D4\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.login($event)\n      }\n    }\n  }, [_c('v-icon', {\n    attrs: {\n      \"dark\": \"\"\n    }\n  }, [_vm._v(\"check\")]), _vm._v(\"\\n          登录\\n      \")], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showfooter),\n      expression: \"showfooter\"\n    }],\n    staticClass: \"footer\"\n  }, [_vm._v(\"\\n        舟山引航站 引航综合数据平台\\n        \"), _c('div', {\n    staticClass: \"copyright\"\n  }, [_vm._v(\"copyright© 2018\")])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-868010ae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./build/loaders/theme-loader.js??ref--2-1!./src/pages/Login.vue\n// module id = 652\n// module chunks = 36"],"sourceRoot":""}